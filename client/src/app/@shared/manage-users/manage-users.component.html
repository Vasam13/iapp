<div class="card card-transparent m-b-10 m-t-10">
  <div class="card-body p-l-30 p-b-0 p-r-30 p-t-0">
    <h4 class="page-title inline btn-rounded m-b-0 m-t-5">
      <em class="icon-people"></em>&nbsp;Manage Users </h4>

    <button
      class="btn btn-primary btn-cons pull-right m-b-10"
      (click)="deleteUser()"
    >
      <em class="icon-trash"></em>&nbsp;Delete</button>
    <button
      class="btn btn-primary btn-cons pull-right m-b-10"
      (click)="usersStore.save()"
    >
      <em class="icon-folder"></em>&nbsp;Save</button>
    <button
      class="btn btn-primary btn-cons pull-right m-b-10"
      (click)="usersStore.insertRow()"
    >
      <em class="icon-plus"></em>&nbsp;Add User</button>
  </div>
</div>

<pg-container extraHorizontalClass="bg-white">
  <div class="card card-default">
    <div class="card-header p-t-10">
      <div class="pull-right">
        <div class="col-xs-12">
        </div>
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="card-body p-l-0 p-r-0">
      <app-grid [store]="usersStore"></app-grid>
    </div>
  </div>
</pg-container>

<div
  bsModal
  #rolesModal="bs-modal"
  class="modal fade slide-down disable-scroll"
  tabindex="-1"
  role="dialog"
  aria-hidden="false"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content-wrapper">
      <div class="modal-content">
        <div class="modal-header clearfix text-left">

          <h5 class="page-title inline btn-rounded m-b-0 m-t-5">
            <em class="icon-organization"></em>&nbsp;Roles Assined</h5>
          <button
            type="button"
            class="close"
            (click)="rolesModal.hide()"
            aria-hidden="true"
          ><i class="pg pg-close fs-14"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-xs-12">
              <div class="pull-right">
                <button
                  class="btn btn-tag btn-primary  btn-tag-primary btn-tag-rounded pull-right m-r-5"
                  (click)="userRolesStore.deleteSelected()"
                >Delete</button>
                <button
                  class="btn btn-tag btn-primary  btn-tag-primary btn-tag-rounded pull-right m-r-5"
                  (click)="userRolesStore.save()"
                >Save</button>
                <button
                  class="btn btn-tag btn-primary  btn-tag-primary btn-tag-rounded pull-right m-r-5"
                  (click)="userRolesStore.insertRow()"
                >New</button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 col-md-12 col-xs-12">
              <div *ngIf="showRoles">
                <app-grid [store]="userRolesStore"></app-grid>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
</div>

<div
  bsModal
  #popupModal="bs-modal"
  class="modal fade slide-up disable-scroll"
  tabindex="-1"
  role="dialog"
  aria-hidden="false"
>
  <div class="modal-dialog modal-md">
    <div class="modal-content-wrapper">
      <div class="modal-content">
        <div class="modal-header clearfix text-left">
          <button
            class="close"
            (click)="popupModal.hide()"
            type="button"
          ><i class="pg pg-close fs-14"></i>
          </button>
          <h5><span class="semi-bold">Success</span></h5>
          <p class="p-b-10">User <span class="bold">{{currentUser}}</span> is created and password is sent to <span
              class="bold">{{currentEmail}}</span></p>
          <!-- <span *ngIf="currentPassword"><h5>Password: <span class="semi-bold">{{currentPassword}}</span></h5></span> -->
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12 m-t-10  text-center">
              <button
                class="btn btn-primary btn-rounded m-t-5"
                (click)="popupModal.hide()"
                type="button"
              >Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
</div>


<div
  bsModal
  #popupPassRessted="bs-modal"
  class="modal fade slide-up disable-scroll"
  tabindex="-1"
  role="dialog"
  aria-hidden="false"
>
  <div class="modal-dialog modal-md">
    <div class="modal-content-wrapper">
      <div class="modal-content">
        <div class="modal-header clearfix text-left">
          <button
            class="close"
            (click)="popupPassRessted.hide()"
            type="button"
          ><i class="pg pg-close fs-14"></i>
          </button>
          <h5><span class="semi-bold">Success</span></h5>
          <p class="p-b-10">Password is re-generated successfully for <span class="bold">{{currentUser}}</span>,
            an email is sent to <span class="bold">{{currentEmail}}</span></p>
          <!-- <span *ngIf="currentPassword"><h5>Password: <span class="semi-bold">{{currentPassword}}</span></h5></span> -->
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12 m-t-10  text-center">
              <button
                class="btn btn-primary btn-rounded m-t-5"
                (click)="popupPassRessted.hide()"
                type="button"
              >Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
</div>
